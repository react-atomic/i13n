(()=>{"use strict";var aG,aH,aI,aJ,aK={},aL="default",l="function",m="number",n="object",e="string",aM="symbol",aN="script",o="undefined",aO="TypeError",p=void 0,f=null,aP=!0,aQ=!1,aR=Object.keys,aS=Array.isArray,aT=function(a){return a?aR(a).length:0},aU=function(a,b){return!!(a&&Object.prototype.hasOwnProperty.call(a,b))},aV="--real-time-url--",aW="--real-time-data-key--",q=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a};let aX=q;var aY="|boolean|"+m+"|"+e+"|"+n+"|"+l+"|"+o+"|",aZ=function(a,b){return -1===aY.indexOf("|"+a+"|")?(b||(b=a),b):a},a$=function(a,b){var c=Object.prototype.toString.call(a).replace(/^\[object\s(.*)\]$/,"$1").toLowerCase();return aZ(c,b)},r=function(a,b){if(null==a)return a$(a,b);try{var c=Object.getPrototypeOf(a).constructor.name.toLowerCase();return aZ(c,b)}catch(d){return a$(a,b)}};let a_=r;function a0(c){for(var a=1,e=arguments.length;a<e;a++)if(a%2||!Object.getOwnPropertyDescriptors){var d=null!=arguments[a]?arguments[a]:{},b=aR(d);a_(Object.getOwnPropertySymbols)===l&&(b=b.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable}))),b.forEach(function(a){aX(c,a,d[a])})}else Object.defineProperties(c,Object.getOwnPropertyDescriptors(arguments[a]));return c}var s=function(a,c,d,b){return l===typeof a?a.apply(d,c):o!==typeof b?b:a};let a1=s;var a2=function(b,a,c){a=null!==(d=a)&& void 0!==d?d:250;var d,e=!1,f=!1,g=function(c){var a=c||{},d=a.args,e=a.scope;f=!1,callfunc(b,d,e)};return function(b){f=!0,e||(e=!0,g(b),setTimeout(function(){e=!1,c&&f&&g(b)},a))}},a3=function(a,b){var c;return function(f){var d=f||{},e=d.delay,g=d.args,h=d.scope;clearTimeout(c),c=setTimeout(function(){return callfunc(a,g,h)},b||(void 0===e?250:e))}},a4=function(a,b,c){return function(){for(var e=arguments.length,f=new Array(e),d=0;d<e;d++)f[d]=arguments[d];return callfunc(b||a,f,c)}},t=function(a){if(!Array.isArray(a)&&Array.from)return Array.from(a);for(var b=0,c=Array(a.length),d=a.length;b<d;b++)c[b]=a[b];return c};let a5=t;var u=function(a){return aM===a_(a)?aM:a_(a,n)};let a6=u;var a7={__null:!0},v=function(a,b){return a=a||w(),o!==a6(a.document)?a.document:b||a7},a8=function(a){return!w()[a||"__null"]},w=function(a){return"undefined"!=typeof window?window:a||a7},a9=function(a){return a?a5(a):[]},ba=function(a,c){var b;return a.some(function(a){var d;return!!a.contains(c)&&!a.isSameNode(c)&&(b=d=a)}),b},g=function(b){if(!b)return!1;var f=l===typeof b?b:function(){return a.el(b)},c=function(b){var a;return null===(a=f())|| void 0===a?void 0:a.querySelector(b)},g=function(b){var a;return a9(null===(a=f())|| void 0===a?void 0:a.querySelectorAll(b))},d=function(a){return e===typeof a?c(a):a},h=function(c,d){var e,a,b=g(d);for(b&&(a=ba(b,c));a;)if(e=a,b=a.querySelectorAll(d))a=ba(a9(b),c);else break;return e};return{all:function(a){return a&&(a.reduce?a.reduce(function(a,b){return a.concat(g(b))},[]):g(a))},ancestor:function(a,b){return(a=d(a))?a.closest?a.closest(b):h(a,b):(console.warn("Element is empty."),!1)},el:d,one:c}},a=g(v);let x=g;a.from=x;var bb=a.all,bc=a.ancestor,bd=a.el,be=a.one,bf={el:0,opt:0},bg={},bh="data-event-wrap-id",bi=function(a){var b=a.getAttribute?a.getAttribute(bh):a[bh];b||(b=++bf.el,a.setAttribute?a.setAttribute(bh,b):a[bh]=b);var c=bg[b];return c||(c=new bj(b,a),bg[b]=c),c},bj=null,bk=function(a){return bi(a)},bl=function(a){KEYS(bg).forEach(function(b){bg[b].cleanAll(a)})},bm=function(b,c,a,d){b&&a&&a.length&&(IS_ARRAY(a)||(a=[{select:a}]),register(query.el(b)).addEventListener(c,function(c){var e=c.target;a.some(function(f){var g=f.select,h=f.func,i=void 0===h?d:h;if("debug"===g)return callfunc(i,[c]);for(var j=query.from(b).all(g)||[],k=j.length;k--;){var a=j[k];if(e.isSameNode(a)||a.contains(e))return callfunc(i,[{type:c.type,target:c.target,currentTarget:a,nativeEvent:c}])}})}))},bn=function(a){return null!=a?new Date(a):new Date},y=function(a){return+bn(a)},bo=function(a,b,d,e){var f=y(),c=!0;return null==a||isNaN(a)||b&&!(f-a<=b)||(c=!1),c?a1(e):a1(d)},bp={},bq=function(a){var b;return bp[a]=null!==(b=bp[a])&& void 0!==b?b:0,(a||"")+"_"+bp[a]++},z=function(){return y()+""+Math.random()};let br=z;var A=y();let bs=A;function B(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}let bt=B;var bu=function(d,c){for(var b=0,e=c.length;b<e;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}},C=function(a,b,c){return b&&bu(a.prototype,b),c&&bu(a,c),a};let bv=C;var bw=function(a){var b="|".concat(a.join("|"),"|");return["__proto__","constructor","prototype"].some(function(a){return -1!==b.indexOf("|".concat(a,"|"))})},D=function(f,d,c,e,g){if(!g&&bw(d))throw"Contain un-safe key.";var a=d.pop(),b=f;d.forEach(function(a){var c;b[a]=null!==(c=b[a])&& void 0!==c?c:Object.create(null),b=b[a]}),!e||b[a]&&b[a].push?e&&b[a].push?b[a].push(c):b[a]=c:b[a]?b[a]=[b[a],c]:b[a]=[c]},bx=function(a,b,c,d){return D(a,b,c,d,!0)};let by=D;var bz=function(a,b){return function(c,d){c.get("nextEmit")===b&&callfunc(a,[c,d])}},E=function(a,b){return l===typeof a?a(b):null!=a?a:b};let bA=E;var bB=function(a,c){var b;return null!==(b=a.size&&a1(a.get,[c],a))&& void 0!==b?b:a[c]},F=function(d,b,c){if(null==d)return bA(c,d);var a=d;if(!b||!aS(b))return a;try{for(var f=b.length,g=b.length-1;f--;){var h=b[g-f];if(null!=a){var e=bB(a,h);if(o!==typeof e)a=e;else{a=bA(c,e);break}}else{a=bA(c);break}}}catch(i){console.warn({e:i}),a=bA(c)}return a};let bC=F;var bD=function(a){return get(a,[DEFAULT,DEFAULT],function(){return get(a,[DEFAULT],function(){return a})})},G=function(a){return a&&a.toJS?a.toJS():a};let bE=G;var H=function(a,b){var c=bE(bC(a,b,{})),d={};return aR(c).forEach(function(a){return d[a]=bE(c[a])}),d};let bF=H;var bG=function(a){return function(b,c){return a[b]||(a[b]=getDefaultValue(c))}},bH="params",I=function(a){return bC(a,[bH],{})};let bI=I;var bJ="init",J=function(){function a(){bt(this,a)}return bv(a,[{key:"sendBeacon",value:function(a,b){return a}},{key:"initDone",value:function(a,c){var f=this,b=c||{},g=b.triggerImpression,d=b.asyncInit,e=function(a){return a.set(bJ,!0).set("nextEmit",bJ)};return d?(setTimeout(function(){return f.dispatch("impression")}),e(a)):(setTimeout(function(){f.dispatch(e(a)),setTimeout(function(){g?g(function(){return f.dispatch("impression")}):f.dispatch("impression")})}),a)}},{key:"processImpression",value:function(a,b){return this.sendBeacon(a,b)}},{key:"processAction",value:function(a,b){var c=a.get("vpvid");return c&&by(b,[PARAMS,"query","vpvid"],c),this.sendBeacon(a,b)}},{key:"handleInit",value:function(a,b){var c=a.get("initHandler"),d=this.initDone.bind(this);return c||(b.asyncInit=!0),a1(c||d,[a,b,d])}},{key:"handleImpression",value:function(a,c){var d,b;return a.get(bJ)?a.get("disableHandleImpression")?a:(b=a1((d=a).get("impressionHandler")||this.processImpression.bind(this),[d,c]),bI(c).stop||(b=b.set("nextEmit","impression")),b):this.handleInit(a,c)}},{key:"handleAction",value:function(b,c){var a=a1(b.get("actionHandler")||this.processAction.bind(this),[b,c]),d=bI(c),e=d.wait,f=d.stop;return null!=e||f||(a=a.set("nextEmit","action")),a}},{key:"reduce",value:function(a,b){switch(a.get("nextEmit")&&(a=a.set("nextEmit",null)),b.type){case"impression":return this.handleImpression(a,b);case"action":return this.handleAction(a,b);case"config/set":return this.mergeMap(a,b.params);case"reset":return this.mergeMap(this.store.reset(),b.params);default:return aR(b).length?this.mergeMap(a,b):a}}}]),a}();let K=J;var L=Object.assign||function(d){for(var a=1,e=arguments.length;a<e;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d};let bK=L;function bL(c,f){if(null==c)return{};var a,b,d={},e=aR(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}function bM(a){throw new Error('"'+a+'" is read-only')}var bN=function(a){return parseInt(a,10)},bO=function(a){var b=a.indexOf(","),c=bN(a.substring(0,b)),d=a.substring(b+1);return[c,d]},bP=function(b){var c,a=JSON.stringify(bE(b));return a.length+","+a},bQ=function(c){var a=bO(c),d=a[0],b=a[1];return d===b.length?JSON.parse(b):null},M=function(){function a(b,c){bt(this,a),this._storage=b,this._disableEncode=c}return bv(a,[{key:"set",value:function(c,b){if(b===this.get(c))return this;var d=this._disableEncode?b:bP(b);return this._storage(c)(d),new a(this._storage,this._disableEncode)}},{key:"merge",value:function(a){var c,d=this;if(!a||n!==typeof a)return this;var b=aR(a);return b&&b.length?(b.forEach(function(b){return c=d.set(b,a[b])}),c):this}},{key:"get",value:function(b){var a=this._storage(b)();if(a)return this._disableEncode?a:bQ(a)}}]),a}();let bR=M;var bS={},h=function(a){return function(b){return function(d){var e=w();if(e&&!bS[a]){var c=bC(e,[a]);if(o===typeof c){console.warn("Not support. ["+a+"]"),bS[a]=!0;return}if(o===typeof d)return c.getItem(b);try{if(null==d)return c.removeItem(b);return c.setItem(b,d)}catch(f){return c.clear(),c.setItem(b,d)}}}}},bT=h("localStorage"),bU=h("sessionStorage"),bV=function(a){return a<10?"0"+a:a},N=function(b){var a=bn(b),c=[a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds()].map(function(a){return bV(a)});return{toArray:function(){return c},toString:function(){return[c.slice(0,3).join("-"),"T",c.slice(3).join(":"),"Z"].join("")}}};let bW=N;var bX=["stop","wait","lazeInfo","lazyKey"],bY="lazyAction",bZ="params",b$="__hash",b_="__seq",b0=function(){return v().URL},b1=function(a,d){var e=function(b,c){var a=b[c],e=bI(a),f=e.wait,g=e.stop;return!f||f<=0?(!g&&(o!==typeof bC(a,["params","wait"])&&delete a.params.wait,d&&d(a)),delete b[c]):a.params.wait=bM("wait"),b[c]},b=bC(a,[b_]);aS(b)&&(a.__seq=b.filter(function(c,a){return e(b,a)}));var c=bC(a,[b$]);return c&&aR(c).forEach(function(a){return e(c,a)}),a},b2=function(){return new bR(bT)},O=function(a){a=a||b2();var b=function(){return bF(a.get(bY))},c=function(b){return a.set(bY,b)},d=function(d){var a=b();bC(a,[b$,d])&&(delete a.__hash[d],c(a))},e=function(c,d){var e=b(),a=bC(e,[b$,d,bZ],{}),f=(a.stop,a.wait,a.lazeInfo,a.lazyKey,bL(a,bX));return aR(f).forEach(function(a){var b=f[a],d=n===typeof b?a0(a0({},b),bC(c,[bZ,a],{})):bC(c,[bZ,a],b);by(c,[bZ,a],d)}),delete c.params.withLazy,c};return{process:function(a){return c(b1(b(),a))},handleAction:function(c,a){var b=bI(a).withLazy;b&&(a=e(a,b));var h=a1(c.get("lazyActionHandler"),[c,a])||c,g=bI(a),i=g.wait,j=g.stop,k=g.lazyKey;return f==i&&!j&&b&&b!==k&&d(b),h},getAll:b,getOne:function(a){return bF(b().__hash)[a]},push:function(e,f){var g=bI(e),a={params:bK({},g),type:e.type};by(a,[bZ,"lazeInfo"],{from:b0(),time:bW().toString()});var d=b();f?by(d,[b$,f],a):by(d,[b_],a,!0),c(d)}}};let P=O;var Q=function(a){var b=a.oI13n,c=a.store,d=a.i13nDispatch,e=a.mergeMap;b.store=c,b.dispatch=d,b.mergeMap=e,c.i13n=b};let R=Q;var b3=function(){var a=[];return{reset:function(){return a.splice(0,a.length)},add:function(b){return a.unshift(b)},remove:function(b){return a.splice(a.indexOf(b)>>>0,1)},emit:function(b,c,d){var e=a.slice(0);setTimeout(function(){for(var a=e.length;a--;)e[a](b,c,d)})}}},b4=function(a,b,c){return(a=a||{}).trim&&(a={type:a},b&&(a.params=b)),a1(a,[c])},S=function(c,b){var d={current:a1(b||{})},a=b3();return[{reset:function(){return a.reset()&&a1(b||{})},getState:function(){return d.current},addListener:a.add,removeListener:a.remove},function(b,g){var e=d.current;b=b4(b,g,e);var f=c(e,b);if(f===p)throw console.trace(),"reduce() return "+o+".";e!==f&&(d.current=f,a.emit(f,b,e))}]};let T=S;var U=function(){function a(b,c){bt(this,a),aX(this,"_state",{}),aX(this,"_update",!1),b&&(this._state=b),c&&(this._update=c)}return bv(a,[{key:"renew",value:function(b){return this._update&&(this._state=b),new a(b)}},{key:"get",value:function(b){return n===typeof this._state[b]&&null!==this._state[b]?new a(this._state[b]):this._state[b]}},{key:"set",value:function(b,c){var a,d=a0(a0({},this._state),{},((a={})[b]=bE(c),a));return this.renew(d)}},{key:"delete",value:function(b){var a=a0({},this._state);return delete a[b],this.renew(a)}},{key:"merge",value:function(a){var b=a0(a0({},this._state),bE(a));return this.renew(b)}},{key:"toJS",value:function(){return this._state}}]),a}();let b=U;var b5=function(a,b){return function(c){if((a=callfunc(a))&&("BODY"===a.nodeName||"HEAD"===a.nodeName)){if(b&&a.firstChild){a.insertBefore(c,a.firstChild);return}a.appendChild(c);return}var d=doc();a||(a=d.currentScript?d.currentScript:d.body);var e=a.parentNode;if(e){if(b){e.insertBefore(c,a);return}if(a.nextSibling){e.insertBefore(c,a.nextSibling);return}e.appendChild(c);return}d.body.appendChild(c)}},b6=function(a){return function(b){return function(d){var e=doc();if(e.createElement){var f,c=e.createElement(a);return d&&KEYS(d).forEach(function(a){return c[a]=d[a]}),b&&(c.onreadystatechange=c.onload=function(){var a=c.readyState;a&& -1==="|loaded|complete|".indexOf("|"+a+"|")||f||(f=!0,setTimeout(b))}),c}}}},b7=function(a){if(a)try{a.parentNode.removeChild(a),a=null}catch(b){}},b8=function(a,b){return function(c){return function(e,f){var d=b6("script")(c)(f);return!1!==a&&b5(a,b)(d),d.src=e,d}}},b9=function(a,b){return function(c){return function(e,f){var d=b6("link")(c)(_objectSpread({rel:"stylesheet",type:"text/css"},f));return!1!==a&&b5(a,b)(d),d.href=e,d}}},ca=0,cb=Object.keys,cc=function(){return aG},cd=function(a){var b=a.oWin,c=a.errCb,d=a.cb,e=a.inlineScripts,f=a.queueScripts,g=a.lastScripts,h=a.getScript;return function(a,j){e[a]&&e[a].length&&(e[a].forEach(function(a){try{aG=a,b.eval("("+FUNCTION+"(){"+a+"}.call(window))")}catch(d){if(FUNCTION!==_typeof(c))throw d;c(d,a)}}),delete e[a]);var i=callfunc(d,[{key:a,inlineScripts:e,queueScripts:f,lastScripts:g,origScript:j}]);if(!1===i)return i;f.length?h(f.shift()):g.length&&(g.forEach(function(a){return h(a)}),g=[])}},ce=function(e,c,g,n,o,u){c=c||win(),g=g||doc(c).body;for(var d={},h=[],i=[],v=!1,j=function(a){var b=a.attributes,c=b.key,j=b.asyncKey,e=null;if(c&&(e=function(){return p(c,a)}),!v){var f=js(g)(e)(a.src,{key:c||j});return callfunc(u,[{loadScript:f,origScript:a,inlineScripts:d,queueScripts:h,lastScripts:i}]),f}},p=cd({oWin:c,errCb:n,cb:o,inlineScripts:d,queueScripts:h,lastScripts:i,getScript:j}),k=(STRING===_typeof(e)?create("div")()({innerHTML:e}):e).getElementsByTagName(SCRIPT),l=function(){var a="id-"+ca;return ca++,a},b=l(),q=b,f=0,r=k.length;f<r;f++){var a=k[f];if(a.src){var m=a.attributes||{},s=m.async,t=m.defer;s?(a.attributes.asyncKey=b,j(a)):t?(a.attributes.asyncKey=b,i.push(a)):(b=l(),a.attributes.key=b,h.push(a))}else d[b]||(d[b]=[]),d[b].push(a.innerHTML)}return p(q),function(){return v=!0}},cf=!1,cg=0,ch=5,ci="I13nScriptErr",cj="Error",V=function(a,f,b){if(cg===ch)console.log("Max Errors exceed.",ch);else if(cg>ch)return;cg++;var c=a||{},g=c.message,d=c.stack;d=bC(a,["stack"],"").split(/\n/);var e=cc(),h={message:g,stack:d,url:v().URL,lastExec:e};if(b&&(h.name=b),setTimeout(function(){var a=f&& -1!==f.indexOf(ci)?0:p;X("action",{wait:a,I13N:{action:f,category:cj,label:h}})}),cf)throw console.error({action:f,name:b},e),a},ck=function(a){return cf=a},cl=function(){return cf};let cm=V;var cn=JSON,W=function(a){try{return cn.parse(a)}catch(b){cm(b,ci)}},co=function(a){try{return cn.parse(cn.stringify(a))}catch(b){cm(b,ci)}};let cp=W;var c=new K,i=T(c.reduce.bind(c),new b),j=i[0],X=i[1],Y=function(a,b){return a.merge(b)};R({oI13n:c,store:j,i13nDispatch:X,mergeMap:Y}),j.getClone=function(a){var b=bF(j.getState().get(a));return co(b)};var cq=function(){for(var d=arguments.length,c=new Array(d),a=0;a<d;a++)c[a]=arguments[a];var b=c.shift();return IS_ARRAY(b)||(b=[b]),c.forEach(function(a){null!=a&&(IS_ARRAY(a)?b=b.concat(a):b.push(a))}),b},cr=Object.keys,cs=function(c,d){var e=d?{}:[],a=get(c,null,{}),b=cr(a);if(!a[b[0]]||!a[b[0]].forEach){console.warn("Not array.",{thisArr:a,thisKeys:b},b[0]);return}return a[b[0]].forEach(function(h,f){var c={},g=f;b.forEach(function(b){c[b]=get(a,[b,f]),d&&d===b&&(g=c[b])}),d?e[g]=c:e.push(c)}),e},ct=function(a){var b=cr(a),c={};return b.forEach(function(b){c[b]=cs(a,b)}),c},cu=function(a,b,c,d){return a.forEach(function(a){var e=get(b,[a[c]]);a[c]=e?cs(e,d):null}),a},cv=Object.keys,cw=Array.isArray,Z=function(a,b,d){if(!a)return a;b&&l!==typeof b&&(b=function(a){return o!==typeof a});var c={};return(cv(a).forEach(function(e){var f=a[e];(!d||!d.length|| -1===d.indexOf(e))&&(f||b&&b(f))&&(c[e]=f)}),cw(a))?cv(c).map(function(a){return c[a]}):c};let cx=Z;var cy=function(a){return aR(a||{}).map(function(b){return a[b]})},cz=function(a,e){var b={};if(IS_ARRAY(a))for(var c=a.length;c--;){var d=a[c];b[d[e]]=d}return b},cA=function(a){return aS(a)?a.length>1?a:a[0]:a},cB=function(a){return T_NULL==a||!isNaN(parseInt(a))||STRING===typeof a},cC=function(a){return cD(a,cB)},cD=function(a,b){return(b=b||function(a){return!IS_ARRAY(a)})(a)?a===T_UNDEFINED?[]:[a]:a},cE=new b(f,!0),$=new b(f,!0),cF=function(a){return cE=a},cG=function(a){return $=a};function cH(a){return(cH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var cI="i13nLazyAttr",cJ="i13nLazyExpire",_=function(a,b){return function(e){var c=bF(cE.get(cI));if(o===cH(a))return c;var g,d=bF(cE.get(cJ)),f=y();return o!==cH(e)&&(c[a]=e,d[a]=f,cE.set(cI,c),cE.set(cJ,d)),bo(d[a]||0,b?1e3*b:null,function(){return c[a]})}};let aa=_;var cK=aa("__prods"),cL=function(a,b){a.forEach(function(c,d){c&&c.id&&(b[c.id]=a0(a0({},b[c.id]),cx(c)),delete b[c.id].quantity,delete b[c.id].variant,delete b[c.id].position,a[d]=a0(a0({},c),b[c.id]))})},cM=function(){return bF(cK())},cN=function(a){var b=cM();return["impressions","detailProducts","products"].forEach(function(c){var d=aS(a[c])?a[c]:cy(a[c]);d.length?cL(d,b):delete a[c]}),cK(b),a},ab=function(a){var b=cN(bF(a.get("I13N"))),c=cN(bF(a.get("i13nPage")));return a.set("I13N",b).set("i13nPage",c)};let cO=ab;var ac=function(){return{dispatch:X}};let cP=ac;function cQ(a){return(cQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var cR=function(c,b){var a=c;return aR(b||{}).length&&(a=n!==cQ(a)?a0({label:c},b):a0(a0({},a),b)),n===cQ(a)&&(a=JSON.stringify(a)),a},cS=function(){return"https://www.google-analytics.com/"+(cl()?"debug/":"")+"collect"},cT=[{},[]],cU=function(b,a){cT[0]=b||{},cT[1]=a?[a,get(a,["currentTarget"])]:[]},cV=function(){return cT},cW="oneTimeAction",ad=function(b,e){var c=e&&e.get(cW),a=b&&b.action;if(a&&c&&c.length){var f=aa(cW),d=f()||{};if(d[a])return!1;-1!==c.indexOf(a)&&(d[a]=!0,f(d))}return b};let cX=ad;function cY(a){return(cY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var cZ=P($),c$="params",c_=function(a,b){return function(){a.get("init")||by(b,[c$,"wait"],0);var f,g,i=cV(),e=i[0],j=i[1],q=j[0],r=j[1],d=bI(b);isNaN(d.delay)||delete b.params.delay;var k=d.i13nCb,m=d.lazeInfo,n=d.i13nPageCb,s=d.wait,t=d.lazyKey,c=d.I13N;if(m&&(c.lazeInfo=m),l===cY(k)&&(e.currentTarget=null!==(f=e.currentTarget)&& void 0!==f?f:r,c=k(q,null!==(g=c)&& void 0!==g?g:{},e,a),delete b.params.i13nCb),c=cX(c,a),a=a.set("I13N",c),c?o!==cY(s)&&(by(b,[c$,"I13N"],cN(c)),cZ.push(b,t)):by(b,[c$,"stop"],!0),l===cY(n)){var h=n(b,c,e);if(h){var p=a.get("i13nPage");a=a.set("i13nPage",p?p.merge(h):h)}}return cO(a)}},ae=function(a,b){var c=bI(b),d=c.delay,f=c.wait,e=c_(a,b);return isNaN(d)?a=e():(setTimeout(function(){var a=e();a&&X(a);var b=a.get("I13N");o===cY(f)&&aR(b.toJS()).length&&X("action",{I13N:b})},d),by(b,[c$,"stop"],!0)),a};let c0=ae;var af=function(a,b){return function(c,d){c.get("nextEmit")===b&&a1(a)}};let c1=af;var ag=function(a){return function(b){var c=b.init,d=b.action,e=b.impression;c&&a.addListener(c1(c,"init")),d&&a.addListener(c1(d,"action")),e&&a.addListener(c1(e,"impression"))}};let c2=ag;var c3=/[|\\{}()[\]^$+*?.]/g,c4=function(a){return a?a+"":""},ah=function(a){return c4(a).replace(c3,"\\$&")},d=function(a){return function(b,c){return function(d){if(!a[d]){var e=b?b(d):d;a[d]=new RegExp(e,c)}return a[d]}}},c5=function(a,b){return c4(a).match(b)};let c6=ah;var k=function(a){return"(([#?&])"+c6(a)+"=)([^&#]*)"},c7=d({})(k),c8=d({})(k,"g"),c9=function(a){return c8(a)};let da=function(a){return c7(a)};var db=/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,dc={},ai=function(a){return dc[a]||(dc[a]=db.exec(a)),dc[a]};let dd=ai;var de=p,df=function(b){var a=dd(b);return{host:a[11],query:a[16],path:a[13]}},dg=function(a){return a||v().URL},dh=function(a,c){var b=df(dg(c)).query,f=void 0===b?"":b,d=function(a){var b=a+"=";if(f.indexOf(b)===f.lastIndexOf(b)){var c=da(a).exec(f);return c?decodeURIComponent(c[3]):de}var d=dj(a,f);return cA(d)};if(!aS(a))return a?d(a):de;var e={};return a.forEach(function(a){e[a]=d(a)}),e},di=function(c,d){for(var a,e=c9(c),b=[];a=e.exec(d);)b.push(decodeURIComponent(a[3]));return b},dj=function(b,c){var a=df(dg(c)).query;return di(b,void 0===a?"":a)},dk=function(d,a){a=dg(a);for(var c,b=da(d);c=b.exec(a);)a="?"===c[2]?a.replace(b,"?"):a.replace(b,"");return a},aj=function(c,a,b,e){var d=aS(a);return b=dk(c,dg(b)),(d?a:[a]).forEach(function(a){e||(a=encodeURIComponent(a)),b=b+(-1===b.indexOf("?")?"?":"&")+c+"="+a}),b};let dl=aj;var dm,ak="Shopify",dn="__st",dp=[ak,"Checkout"],dq="thank_you",al=function(){return bC(w(),[].concat(dp,["step"]))},am=function(){return bC(w(),[ak,"shop"],function(){return bC(w(),[].concat(dp,["apiHost"]))})},an=function(){return bC(w(),[].concat(dp,["currency"]),function(){return bC(w(),[ak,"currency","active"])})},ao=function(){var a=bC(w(),[dn,"pageurl"]);if(a)return"https://"+a},ap=function(){return bC(w(),[dn,"cid"])},aq=function(){if(dq===al())return dq;var a=w();return bC(a,[dn,"t"],function(){return bC(a,[dn,"p"])})},ar=function(){var a=ao(),b=dh("_ga",a)||"";return bC(b.split("-"),[1])},as=function(){var a=bC(w(),[].concat(dp,["token"]));if(a)return"shopify-checkout-"+a},at={getStepNo:function(){var a=al();switch(a){default:break;case"contact_information":return 1;case"shipping_method":return 2;case"payment_method":return 3}},getStepName:al,getShopId:am,getPage:aq,getUid:ap,getGaId:ar,getDocUrl:ao,getCurrency:an,getClientId:as};let dr=at;function ds(a){return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var dt="currencyCode",du=function(a,b,c){var d=bC(a,[dt])||c;by(b,[dt],d)},dv={},dw=function(b,c,i){var e=b.stepNo,f=b.stepOption,d=b.products,a=null!=e?e:dr.getStepNo(),g=null!=f?f:dr.getStepName();if(a){var h={step:a,option:g};!dv[a]||d&&d.length||!g?(dv[a]={actionField:h,products:d},du(b,c,i),by(c,["checkout"],dv[a])):by(c,["checkout_option"],{actionField:h})}},dx=function(b,c){var a=b.promotions;a&&by(c,["promoView","promotions"],a)},dy=function(a,b,e){var c=a.fromP,d=a.detailProducts;d&&(c&&by(b,["detail","actionField","list"],c),du(a,b,e),by(b,["detail","products"],d))},dz=function(a,c,d){var e=a.p,b=a.impressions;b&&(du(a,c,d),e&&b.forEach(function(a,c){return b[c].list=a.list||e}),by(c,["impressions"],b))},dA=function(a,b,d,l){var e=a.purchaseId,f=a.refundId,c=a.products,g=bC(a,["affiliation"],""),h=bC(a,["coupon"],""),i=bC(a,["revenue"],0),j=bC(a,["tax"],0),k=bC(a,["shipping"],0);e&&(du(a,b,d),by(b,["purchase","actionField"],{id:e,affiliation:g,revenue:i,tax:j,shipping:k,coupon:h}),by(b,["purchase","products"],c)),f&&(by(b,["refund","actionField","id"],f),c&&(du(a,b,d),by(b,["refund","products"],c)))},dB=function(b,i){var d,f,c=i.defaultCurrencyCode,g=b.p,j=b.action,h=b.products,k=b.promotions,a={};g&&(f={list:g});var e={actionField:f,products:h};switch(j){case"ClickPromotion":a.promoClick={promotions:k};break;case"ClickProduct":a.click=e,d=bC(h,[0,"price"]),du(b,a,c);break;case"BuyNow":case"AddToCart":a.add=e,du(b,a,c);break;case"RemoveFromCart":a.remove=e,du(b,a,c);break;case"ViewContent":dx(b,a),dy(b,a,c),dz(b,a,c)}return dw(b,a,c),dA(b,a,c,d),{ecommerce:a,value:d}},dC=function(b,d){var c=d.defaultCurrencyCode,a={};return dx(b,a),dy(b,a,c),dz(b,a,c),dA(b,a,c),dw(b,a,c),{ecommerce:a}},au=function(a,e,f){var g=f.getState(),b=a1("action"===a.trigger?dB:dC,[e,{defaultCurrencyCode:g.get("currencyCode")}]),c=b.ecommerce,d=b.value;return aR(c).length&&(a.ecommerce=c,"action"!==a.trigger||(a.category="Ecommerce",o!==ds(a.value)||isNaN(d)||(a.value=d))),a};let dD=au;var av=function(){var a,b;return null!==(a=null==j?void 0:null===(b=j.getState())|| void 0===b?void 0:b.get("uid"))&& void 0!==a?a:dr.getUid()};let dE=av;var dF="|number|".concat(e,"|"),dG=function(a){return dH(a)+"%"},dH=function(a){return dI(100*dJ(a))},dI=function(b,a){return dJ(b).toFixed(null!=a?a:2)},dJ=function(a){if(o===a6(a))return 0;if(-1!==dF.indexOf("|"+a6(a)+"|")&&a){var b=a&&a.trim?a.trim():a+"",c=parseFloat(b),d=parseInt(b,10);if(c===d&&(d+""===b||0===d))return d;if(b===c+"")return c;var e=0;return -1!==b.indexOf(".")?c:(isNaN(b)||(e=b),console.warn("Can not change to number well.",{willNum:e,maybeString:b,num:a}),e)}var f=Number(a);return isNaN(f)?0:f},dK=function(a){return dJ(dI(a,0))},dL=/(\-)?(\d+)(\.)?(\d+)?/g,dM=function(a){if(e!==a6(a))return dJ(a);var b=a.replace(",","").match(dL);return b?dJ(b[0]):(console.warn("Get number fail",a),0)},dN=!0,aw=function(a){return"(?:^|;)\\s?"+c6(a)+"=([^;]+)"},dO=d({})(aw),dP=function(a){return dO(a)},dQ=function(a){if(a)return a;if(!dN)return"";try{return v().cookie}catch(b){return dR(b),""}},dR=function(a){console.warn("cookie not support",{e:a}),dN=!1},ax=function(c,a){a=dQ(a);var b=dP(c).exec(a);return null!==b?decodeURIComponent(b[1]):null},dS=function(e,f,b,a){a=a||"";var d="";if(b=b||0){var c=new Date;c.setTime(c.getTime()+864e5*b),d="expires="+c.toUTCString()+";"}return a&&(a="domain="+a+";"),e+"="+f+";"+d+a+"path=/"},dT=function(a,b,c,d){if(dN)try{v().cookie=dS(a,b,c,d)}catch(e){dR(e)}};let dU=ax;var ay=function(a){return bC(a,["location"],function(){return dr.getDocUrl()||v().URL})},dV=function(a){return df(ay(a)).host};let dW=ay;var dX="_ga",dY=function(b){var a=(dU(b||"")||"").split(".");if(a[2]&&a[3])return a[2]+"."+a[3]},dZ=function(){var a=dY(dX);return a||(a=br(),dT(dX,"GA1.3."+a,730)),a},az=function(){return dr.getClientId()||dZ()};let d$=az;function d_(a){return(d_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var d0,d1=["id","name","category","brand","variant","position","price","quantity","coupon","image","sku"],d2=["list"],d3="dimension",d4="metric",d5="x",d6=function(a){return a&&Array.isArray(a)&&a.length},d7=function(a){return o!==d_(a)?dM(a):a},aA=function(){function a(){var b=this;bt(this,a),aX(this,"isSameHost",function(a){return function(d){var e="//"+a,c=d.indexOf(e);if(5===c||6===c){var b=d.charAt(c+e.length);if("/"===b||"?"===b||""===b||":"===b)return!0}return!1}}),aX(this,"getPromotionsData",function(a){return b.getItemsData(a,"promo",b.setOnePromotion)}),aX(this,"setOnePromotion",function(a,b,c,h){var d=c.id,e=c.name,f=c.creative,g=c.position;b[a+"id"]=d,b[a+"nm"]=e,b[a+"cr"]=f,b[a+"ps"]=d7(g)}),aX(this,"getProductsData",function(a,c){return b.getItemsData(a,"pr",b.setOneProduct,c)})}return bv(a,[{key:"getReferrer",value:function(a){a||(a=v());var c=dV(),b=bC(a,["referrer"]);if(b&&!this.isSameHost(c)(b))return{dr:b}}},{key:"getActionData",value:function(b){var a=b||{},c=a.action,d=a.category,e=a.label,f=a.value,g={ec:d,ea:c,el:e,ev:d7(f)};return g}},{key:"getItemsData",value:function(a,c,d,e){if(d6(a)){var f=1,b={};return a.forEach(function(a){if(a){var g=c+f;f++,a1(d,[g,b,a,e])}}),b}}},{key:"getEcPromotionData",value:function(a,b){if(a||b){var c,d=(a||b).promotions;c=a?"view":"click";var e=a0({promoa:c},this.getPromotionsData(d));return e}}},{key:"setOneProduct",value:function(a,b,c,d){var e=c.id,f=c.name,h=c.category,i=c.brand,j=c.variant,k=c.position,l=c.price,m=c.quantity,n=c.coupon,g=c.image,o=c.sku,p=bL(c,d1);(null!=e||null!=f)&&(b[a+"id"]=e,b[a+"nm"]=f,b[a+"br"]=i,b[a+"ca"]=h,b[a+"va"]=j,b[a+"pr"]=d7(l),b[a+"qt"]=m,b[a+"cc"]=n,b[a+"ps"]=d7(k),b[a+"img"]=g,b[a+"sku"]=o,aR(p).forEach(function(c){var d;if(0===c.indexOf(d3)&&(d="cd"),0===c.indexOf(d4)&&(d="cm"),d){var e=dM(c);b[a+d+e]=p[c]}}),(d||{}).imageIndex&&(b[a+"cd"+d.imageIndex]=g))}},{key:"getEcPurchaseData",value:function(c,d,h){if(c||d){var b,e=c||d,i=e.actionField,f=e.products,a=i||{},g=a.id,j=a.affiliation,k=a.revenue,l=a.tax,m=a.shipping,n=a.coupon;return b=c?{pa:"purchase",ti:g,ta:j,tr:d7(k),tt:d7(l),ts:d7(m),tcc:n}:{pa:"refund",ti:g},f&&(b=a0(a0({},b),this.getProductsData(f,h))),b}}},{key:"getEcStepData",value:function(b,a,e){if(b||a){var c=b||a,f=c.actionField,g=c.products,d=f||{},h=d.step,i=d.option,j=a0({cos:h,col:i,pa:a?"checkout_option":"checkout"},this.getProductsData(g,e));return j}}},{key:"getEcActionData",value:function(a,b,c){if(a){var d=a.actionField,e=a.products,f=d||{},g=f.list,h=a0(a0({},this.getProductsData(e,c)),{},{pa:b,pal:g});return cx(h,!0)}}},{key:"getEcImpressionsData",value:function(a,c){var d=this;if(d6(a)){var e=1,f={},b={};return a.forEach(function(g){var a=g.list,h=bL(g,d2);f[a]||(f[a]={key:"il"+e,n:1},e++,b[f[a].key+"nm"]=a);var i=f[a].key+"pi"+f[a].n;f[a].n++,d.setOneProduct(i,b,h,c)}),b}}},{key:"getEcData",value:function(b){var a=(b||{}).ecommerce;if(a){var d=a.impressions,e=a.detail,f=a.click,g=a.add,h=a.remove,i=a.checkout,j=a.checkout_option,k=a.purchase,l=a.refund,m=a.promoView,n=a.promoClick,c=a.currencyCode,o=a0(a0(a0(a0(a0(a0(a0(a0(a0({},this.getEcImpressionsData(d,b)),this.getEcActionData(e,"detail",b)),this.getEcActionData(f,"click",b)),this.getEcActionData(g,"add",b)),this.getEcActionData(h,"remove",b)),this.getEcStepData(i,j,b)),this.getEcPurchaseData(k,l,b)),this.getEcPromotionData(m,n)),{},{cu:null!=c?c:dr.getCurrency()});return o}}},{key:"getMp",value:function(r,f){var c=v(),d=w(),e=d.navigator||{},g=d.screen||{},k=c.documentElement||{},s=Math.max(k.clientWidth||0,d.innerWidth||0),t=Math.max(k.clientHeight||0,d.innerHeight||0),h=r||{},l=h.trackingId,u=h.needTrackingId,x=h.version;if(u&&null==l)return!1;var a=f||{},z=a.trigger,m=(a.trackingType,a.bCookieIndex),i=a.bCookie,n=a.lazeInfoIndex,j=a.lazeInfo,A=a.expId,B=a.expVar,C=a.siteId,D=a.email,E=a.p,F=a.p2,G=a.p3,H=a.p4,I=a.p5,b=a0(a0(a0(a0({},this.getActionData(f)),this.getEcData(f)),this.getReferrer()),{},{siteid:C,em:D,xid:A,xvar:B,fbp:dU("_fbp")||p,fbc:dU("_fbc")||p,cg1:E,cg2:F,cg3:G,cg4:H,cg5:I,_s:aH,dl:dW(),ul:(e.language||e.browserLanguage||"").toLowerCase(),de:c.characterSet||c.charset,dt:c.title,sd:g.colorDepth+"-bit",sr:g.width+d5+g.height,vp:s+d5+t,je:dJ(a1(e.javaEnabled,null,e)),tid:l,cid:d$(),scid:dr.getGaId(),dh:dr.getShopId(),_gid:dY("_gid"),v:x||1,z:aI,t:"impression"===z?"pageview":"event"});if(aH++,cj===b.ec&&(b.t="exception",b.exd=b.ea),i&&(m&&(b["cd"+m]=i),b.uid=i),j){n&&(b["cd"+n]=j);var o=cp(j);if(o.time){var q=y(o.time);isNaN(q)||(b.qt=y()-q)}}return bs&&(b.plt=y()-bs),cx(b,!0)}}]),a}();!function(a){aH=null!=a?a:1,aI=br()}();let d8=aA;var d9="GET",ea="POST",eb=3e4,ec=function(b,d){var c=w()||self;b=b||d9;var a=null!=c.XMLHttpRequest?new c.XMLHttpRequest:null;return a&&"withCredentials"in a?a.open(b,d,!0):null!=c.XDomainRequest?(a=new c.XDomainRequest).open(b,d):a=null,a},ed=function(b,f,c,d){var a=ec(c,b);if(!a)return!1;a.timeout=eb,a.onload=function(){aJ=!0,a1(a1(f,[a]))};try{return a.send(d),!0}catch(e){return console.warn("req failed.",{url:b,e:e}),!1}},ee=function(a){if(!a8())return ed(a);var c,b=new Image;b.onload=function(){c&&clearTimeout(c),aJ=!0},b.src=a,c=setTimeout(function(){b.src=""},eb+6e4)},ef=function(b,c){var a=bC(w(),["navigator","sendBeacon"]);return!!a&&!!aJ&&(a.call(w().navigator,b,c),!0)},eg=function(a){var b="?";return a?(aR(a).forEach(function(c){b=dl(c,a[c],b)}),b.substring(2)):b},eh=function(b,f,c,a){c=c||ed,a=a||ee;var d=eg(f),e=b+"?"+d;2036>=e.length?a(e):ef(b,d)||c(b,null,ea,d)||a(e)},ei=function(a){return aJ=a},aB=function(a){var b=a.store,c=a.gaId,d=a.bCookieIndex,e=a.lazeInfoIndex,f=a.mpHost,g=new d8,h=function(d,c){c=c||eh;var a=b.getState(),i=a1(f)||a.get("mpHost"),j=a.get("defaultMpHost"),e=i||j;if(e){var h=g.getMp({trackingId:d.gaId,needTrackingId:a.get("needTrackingId"),version:a.get("version")},d);h&&c(e,h)}else console.warn("mp host not found")},i=function(a){var g,f=b.getState(),i=dE();i&&(a.bCookie=i,d&&(a.bCookieIndex=d)),a.lazeInfo&&e&&(a.lazeInfoIndex=e),"action"===a.trigger&&(a.label=cR(a.label,a.ecommerce?{ecommerce:a.ecommerce}:null)),a.p=null!==(g=a.p)&& void 0!==g?g:dr.getPage(),a.expId=f.get("expId"),a.expVar=f.get("expVar"),a.siteId=f.get("siteId"),a.email=f.get("email"),a.gaId=c||f.get("trackingId"),h(cx(a))};c2(b)({action:function(){var a=b.getClone("I13N"),e=a.lazeInfo,c=a.action,d=a.category,f=a.label,g=a.value,h=a.p,j=a.p2,k=a.p3,l=a.p4,m=a.p5,n={trigger:"action",lazeInfo:JSON.stringify(e),action:c,category:null!=d?d:c,label:f,value:g,p:h,p2:j,p3:k,p4:l,p5:m};i(dD(n,a,b))},impression:function(){var a=b.getClone("i13nPage"),c=a.p,d=a.p2,e=a.p3,f=a.p4,g=a.p5;i(dD({trigger:"impression",p:c,p2:d,p3:e,p4:f,p5:g},a,b))}})};let ej=aB;var aC=function(a){a.store=j,a.type,ej(a)};let ek=aC;var el=function(c){for(var a=bC(c,["tags"],[]),b=a.length;b--;)ek(a[b])},em=function(b,a,d){var c=bI(a);return el(a0(a0({},bC(b)),c)),a.asyncInit=!0,d(Y(b,c),a)},en=function(a,b){return cO(a)},aD=function(f,g){var a=g||{},b=a.global,h=void 0===b?{}:b,c=a.globalKey,i=void 0===c?"i13n":c,d=a.utils,j=void 0===d?cP:d,e=!1;e||(h[i]=a1(j),e=!0,X("reset",{initHandler:em,actionHandler:c0,impressionHandler:en}),X("impression",{trackingId:f,tags:[{mpHost:cS}]}))};let aE=aD;var eo,aF=function(){var a=v().currentScript;if(a)return dh("id",a.src)}();aE(aF,{global:w()})})()